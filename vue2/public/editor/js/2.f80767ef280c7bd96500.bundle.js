(window.adminTemplateEditor=window.adminTemplateEditor||[]).push([[2],{836:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(83);function a(e){return Object(r.a)({url:"/vue-element-admin/article/list",method:"get",params:e})}function o(e){return Object(r.a)({url:"/vue-element-admin/article/detail",method:"get",params:{id:e}})}function i(e){return Object(r.a)({url:"/vue-element-admin/article/create",method:"post",data:e})}},841:function(e,t,n){"use strict";n.r(t),n.d(t,"ExampleList",(function(){return d})),n.d(t,"ExampleCreate",(function(){return x})),n.d(t,"ExampleEdit",(function(){return O}));var r=n(0),a=n.n(r),o=n(32),i=n(214),c=n(215),u=n(835),s=n(836),l=n(34),f=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},d=function(){var e={schema:u.a.ExampleList,components:{RankCount:i.a,StatusTag:c.a,Container:"div",RouterLink:l.a},scope:{PAGE:{useTablePaginationData:function(){var e=this;return function(t){t.query(".pagination").take((function(n){return f(e,void 0,void 0,(function(){var e,r,a,o;return p(this,(function(i){switch(i.label){case 0:return e=n.value,r=e.size,a=e.current,[4,Object(s.c)({limit:r,page:a})];case 1:return o=i.sent().data,t.value=o.items,n.setComponentProps({total:o.total}),n.visible=o.total>0,[2]}}))}))}))}}}}},t=e.schema,n=e.components,r=e.scope;return a.a.createElement("div",{className:"app-container"},a.a.createElement(o.e,{schema:t,components:n,scope:r,schemaKey:"ExampleList"}))},m=n(216),h=n(337),b=n(3),v=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},w={Sticky:o.l,Tinymce:o.o,Warning:m.a,Container:"div",Upload:o.p},E={PAGE:{useStickyClassName:function(){return function(e){e.query("sticky").take((function(t){t.setComponentProps({className:"sub-navbar "+e.value})}))}},searchUserRemoteMethod:function(e){var t=this;return function(n){return v(t,void 0,void 0,(function(){var t;return y(this,(function(r){switch(r.label){case 0:return[4,Object(h.a)(n)];case 1:return(t=r.sent()).data.items&&e.setDataSource(t.data.items.map((function(e){return e.name}))),[2]}}))}))}},onSubmitForm:function(e){return function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.form.validate("main.*")];case 1:return t.sent(),b.notification.success({message:"发布文章成功",type:"success",duration:2}),e.query("status").take().value="published",[3,3];case 2:return t.sent(),console.log("error submit!!"),[2,!1];case 3:return[2]}}))}))}},onDraftForm:function(e){return function(){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){return(t=e.form.values).content&&t.title?(b.message.success("保存成功",1),e.query("status").take().value="draft",[2]):(b.message.warning("请填写必要的标题和内容"),[2])}))}))}}}},x=function(){return a.a.createElement("div",{className:"createPost-container"},a.a.createElement(o.e,{schema:u.a.ExampleCreate,components:w,scope:E,schemaKey:"ExampleCreate"}))},g=n(17),k=n(19),S=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},O=function(){var e=Object(g.n)(),t=Object(g.l)();return Object(r.useEffect)((function(){e.id||t("/example/create")}),[e.id]),a.a.createElement("div",{className:"createPost-container"},a.a.createElement(o.e,{schema:u.a.ExampleEdit,components:w,scope:E,effects:function(){Object(k.q)((function(t){return S(void 0,void 0,void 0,(function(){var n,r,a;return j(this,(function(o){switch(o.label){case 0:return n=e.id,[4,Object(s.b)(n)];case 1:return r=o.sent(),(a=r.data).title+="   Article Id:"+a.id,a.content_short+="   Article Id:"+a.id,a.displayTime=new Date(a.display_time),a.comment_disabled=a.comment_disabled?"closed":"opened",t.setInitialValues(a),[2]}}))}))}))},schemaKey:"ExampleEdit"}))}}}]);